provider "aws" {
  region = "us-east-1"
}

provider "kubernetes" {
  host                   = https://C308E0C1DB853C016B71871D89AE82A6.gr7.us-east-1.eks.amazonaws.com
  cluster_ca_certificate = base64decode("LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCRENDQWV5Z0F3SUJBZ0lIS2RXVlY0VGhwekFOQmdrcWhraUc5dzBCQVFzRkFEQVZNUk13RVFZRFZRUUQKRXdwcmRXSmxjbTVsZEdWek1CNFhEVEkxTURNeU5ERTFNekkxTjFvWERUTTFNRE15TWpFMU16YzFOMW93RlRFVApNQkVHQTFVRUF4TUthM1ZpWlhKdVpYUmxjekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DCmdnRUJBTVZ6aVg3dlMwa0hZVUpjVnpzdjJiYWMxM2Z4R0ttU0ZuYjlMbWRrV0UweFRwQmF3WERIVWtvV280S1EKQ3ZKY2FFazl6UTQ5c2IvTVhRcitHMVdQNDlmUDFIWlRkaGV5N3VKRzg5bk5mcHJJcno4VzhneXI3MFYwNkVNRwpjNXZFWmVidzJNVHdIb2ZKWE5UdHNwUXVCZTdCQlV3dTFTaXEvekU2K1plWEVLdTNZWERpYVB2Qkl5aGllNGVxClNCODhwRlJFdGg5WW91eUQ1NndMaXhjSW5tcDUxU0Q0eHBLTy9SZVlHR2pMQmFIYi9UdlE0TWQxUGZTamtHd2wKVG1LNjBEZXdWTEsxakZuaWJqejY4bFBVNW42WUFwdGMvTDZGYUx3a0R6VE5UbGVnc1dmRnR6eUxlSWtCNUdNNwpjYnJSNHd1UHkydUlpTHJPeXArZXY1V3ZNWk1DQXdFQUFhTlpNRmN3RGdZRFZSMFBBUUgvQkFRREFnS2tNQThHCkExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkN4YjNkK0c4ZXpkNkE5MC9mM2R6NUtpMWszRk1CVUcKQTFVZEVRUU9NQXlDQ210MVltVnlibVYwWlhNd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFEZHBzWlc3aHUvbgpxenNCN0NnbVR0M2lIV2xsa1pSMnhFcGJrRGJhOWM1OWkzbk5MS3FIM3FPYTFPbjhIMGVWY2tuWm02R29IbnMwCms0M0cyS1V1YXlQTTQ1bURmZExMckxrcUYzTkpUZ05TeGlDcGdFaG9yNUYrWFhyWVJZTlRLb2hNVXcrZzVNYWIKdFhHUGJFQ1crS2JtNjNUT1BMdEtmdTRja2hERHhFbDFnakJoRCtsdE92ZG5xT2tyL2xxVFZTTWpXMVo1L2dUNwo1ZnhLOGFra0E5R3c2YXljT1llbkdZZ1RWTWxqNkdOTGFJc0dhNVdUTjJmWTg4SDAyWUhDSXR5VkxXS2tkU2laCnp3Qjd3L0llRVpnL2dybXg3a09uOVpub296c3lrUGZ6M3hqZXJ0R2cwYXhWK2V3SyttbVJlcmFONk1jMkIrWkQKVUpEMnZ1bnpOWDA9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K")
  exec {
    api_version = "client.authentication.k8s.io/v1beta1"
    args        = ["eks", "get-token", "--cluster-name", "EKS-FOOD-ORDER-API"]
    command     = "aws"
  } 
}
